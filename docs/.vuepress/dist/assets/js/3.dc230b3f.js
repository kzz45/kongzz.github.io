(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{358:function(t,a,r){t.exports=r.p+"assets/img/prometheus-architecture.7b47afdb.png"},359:function(t,a,r){t.exports=r.p+"assets/img/alert_wall.5a6bf9ed.png"},360:function(t,a,r){t.exports=r.p+"assets/img/alert_maintain.a5dc1e53.png"},361:function(t,a,r){t.exports=r.p+"assets/img/monitor_settings.ed23955b.png"},375:function(t,a,r){"use strict";r.r(a);var e=r(44),s=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"ç›‘æ§å¹³å°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§å¹³å°"}},[t._v("#")]),t._v(" ç›‘æ§å¹³å°")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("ç›‘æ§å¹³å°åŸºäºPrometheus + (Thanos) + AlertManager + Grafanaå¼€å‘")])]),t._v(" "),e("h2",{attrs:{id:"æŠ€æœ¯æ ˆ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯æ ˆ"}},[t._v("#")]),t._v(" æŠ€æœ¯æ ˆ")]),t._v(" "),e("ul",[e("li",[t._v("æœåŠ¡ç«¯ Django RestFramework")]),t._v(" "),e("li",[t._v("å®¢æˆ·ç«¯ Go")]),t._v(" "),e("li",[t._v("ä»£ç†ç«¯ Go")]),t._v(" "),e("li",[t._v("å‰ç«¯ Vue + Element")])]),t._v(" "),e("h2",{attrs:{id:"äº§å“æ¶æ„å›¾"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#äº§å“æ¶æ„å›¾"}},[t._v("#")]),t._v(" äº§å“æ¶æ„å›¾")]),t._v(" "),e("p",[e("img",{attrs:{src:r(358),alt:"ç›‘æ§æ¶æ„å›¾"}})]),t._v(" "),e("h2",{attrs:{id:"å‰ç«¯è¯´æ˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯è¯´æ˜"}},[t._v("#")]),t._v(" å‰ç«¯è¯´æ˜")]),t._v(" "),e("h3",{attrs:{id:"ç›‘æ§å¤§å±"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§å¤§å±"}},[t._v("#")]),t._v(" ç›‘æ§å¤§å±")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("ç›‘æ§å¤§å±ï¼Œä¸»è¦æ˜¾ç¤ºæŸä¸ªäº§å“ä¸‹çš„å‘Šè­¦(å‘Šè­¦æ•°é‡)ï¼Œå…·ä½“çš„å‘Šè­¦è¯¦æƒ…å¯ä»¥ç‚¹å‡»æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥é’ˆå¯¹å‘Šè­¦è®¾ç½®ç»´æŠ¤ã€‚\nå¦‚å›¾")])]),t._v(" "),e("p",[e("img",{attrs:{src:r(359),alt:"ç›‘æ§å¤§å±"}})]),t._v(" "),e("h3",{attrs:{id:"å‘Šè­¦ç»´æŠ¤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦ç»´æŠ¤"}},[t._v("#")]),t._v(" å‘Šè­¦ç»´æŠ¤")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("å‘Šè­¦ç»´æŠ¤é¡µé¢ï¼Œæ˜¾ç¤ºçš„æ˜¯å‘Šè­¦ç»´æŠ¤çš„ç­–ç•¥åˆ—è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹å…·ä½“çš„ç»´æŠ¤ç­–ç•¥ï¼Œå¯ä»¥çœ‹åˆ°ç»´æŠ¤ç­–ç•¥æ˜¯å¦æ­£åœ¨ç”Ÿæ•ˆä¸­ã€‚\nå¦‚å›¾")])]),t._v(" "),e("p",[e("img",{attrs:{src:r(360),alt:"å‘Šè­¦ç»´æŠ¤"}})]),t._v(" "),e("h3",{attrs:{id:"å‘Šè­¦åˆ—è¡¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦åˆ—è¡¨"}},[t._v("#")]),t._v(" å‘Šè­¦åˆ—è¡¨")]),t._v(" "),e("blockquote",[e("p",[t._v("æ˜¾ç¤ºå½“å‰æ­£åœ¨å‘Šè­¦çš„å‘Šè­¦ä¿¡æ¯ï¼Œå’Œå·²ç»æ¢å¤çš„å‘Šè­¦ä¿¡æ¯ï¼Œç›®çš„æ˜¯è®°å½•ä¸‹å†å²çš„å‘Šè­¦ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"ç›‘æ§å¯¹è±¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§å¯¹è±¡"}},[t._v("#")]),t._v(" ç›‘æ§å¯¹è±¡")]),t._v(" "),e("blockquote",[e("p",[t._v("æœ¬æ¬¡ç‰ˆæœ¬ç›®å‰åªæ”¯æŒä¸»æœºå®ä¾‹ï¼Œåç»­ä¼šå¢åŠ å¦‚MySQLã€Redisã€åŸŸåã€kubernetesã€æ¢æµ‹åŠŸèƒ½ç­‰ç­‰ã€‚")])]),t._v(" "),e("h3",{attrs:{id:"å‘Šè­¦é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦é…ç½®"}},[t._v("#")]),t._v(" å‘Šè­¦é…ç½®")]),t._v(" "),e("blockquote",[e("p",[t._v("å‘Šè­¦é…ç½®æ˜¯ç›‘æ§å¹³å°çš„é‡ç‚¹ï¼Œä¸»è¦æœ‰ï¼šé…ç½®å‘Šè­¦è§„åˆ™ï¼Œé…ç½®å‘Šè­¦è·¯ç”±ï¼Œé…ç½®å‘Šè­¦é€šçŸ¥å¯¹è±¡ï¼Œç›‘æ§ä»»åŠ¡(Prometheusä¸­çš„Jobs)çš„ç®¡ç†ã€‚")])]),t._v(" "),e("h4",{attrs:{id:"å‘Šè­¦è§„åˆ™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦è§„åˆ™"}},[t._v("#")]),t._v(" å‘Šè­¦è§„åˆ™")]),t._v(" "),e("blockquote",[e("p",[t._v("å‘Šè­¦è§„åˆ™æ˜¯é‡ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬ç†æƒ³çš„çŠ¶æ€æ˜¯åŒä¸€ç±»å‹çš„å‘Šè­¦åªä¼šé…ç½®ä¸€æ¡å‘Šè­¦è§„åˆ™ï¼Œå¦‚æœæœ‰ç»†åˆ†çš„æƒ…å†µï¼Œæˆ‘ä»¬é’ˆå¯¹ä¸»å‘Šè­¦è§„åˆ™æ·»åŠ ä¸€äº›å­è§„åˆ™ã€‚")])]),t._v(" "),e("p",[t._v("ğŸ‰ ğŸ’¯ è¿™æ¡è§„åˆ™çš„æ„æ€æ˜¯ï¼Œæ‰€æœ‰ç›®æ ‡å®ä¾‹ç¦»çº¿ï¼Œæˆ‘ä»¬å…¨å±€å°±åªä¼šé…ç½®è¿™ä¸€æ¡è§„åˆ™")]),t._v(" "),e("div",{staticClass:"language-promql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-promql"}},[e("code",[t._v("up"),e("span",{pre:!0,attrs:{class:"token context-labels"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),e("p",[t._v("ğŸ’£ é‚£ä¹ˆç±»ä¼¼å†åŠ è¿™ä¸€æ¡è§„åˆ™å°±æ²¡æœ‰å¿…è¦äº†")]),t._v(" "),e("div",{staticClass:"language-promql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-promql"}},[e("code",[t._v("up"),e("span",{pre:!0,attrs:{class:"token context-labels"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("_ip")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"10.10.10.10"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),e("h4",{attrs:{id:"å‘Šè­¦è·¯ç”±"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦è·¯ç”±"}},[t._v("#")]),t._v(" å‘Šè­¦è·¯ç”±")]),t._v(" "),e("blockquote",[e("p",[t._v("å‘Šè­¦è·¯ç”±å°±æ˜¯å°†å“ªäº›å‘Šè­¦å‘é€ç»™å“ªäº›äººï¼Œæˆ‘ä»¬å®šä¹‰æ¯ä¸ªäº§å“ä¸‹é¢éƒ½ä¼šæœ‰ä¸€æ¡é»˜è®¤çš„å…œåº•çš„å‘Šè­¦è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªäº§å“ä¸‹çš„æ‰€æœ‰å‘Šè­¦éƒ½ä¼šå‘é€ç»™\nè¿™ä¸ªäº§å“çš„è¿ç»´äººå‘˜ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªäº§å“ä¸‹é…ç½®å­è·¯ç”±ï¼Œå­è·¯ç”±å¯ä»¥é…ç½®è¦†ç›–çˆ¶è·¯ç”±ï¼Œæ„æ€å°±æ˜¯åŒ¹é…åˆ°è¿™ä¸ªå­è·¯ç”±çš„æƒ…å†µä¸‹ï¼Œè¿™æ¡å‘Šè­¦\nå°±ä¼šå‘é€ç»™è¿™ä¸ªå­è·¯ç”±ä¸­é…ç½®çš„é€šçŸ¥äººå‘˜ã€‚")])]),t._v(" "),e("blockquote",[e("p",[t._v("å‘Šè­¦è·¯ç”±æœ€é‡è¦çš„ç‚¹å°±æ˜¯æ ‡ç­¾åŒ¹é…")])]),t._v(" "),e("p",[e("strong",[t._v("çˆ¶è·¯ç”±")]),t._v("ï¼šè¿™æ¡è·¯ç”±è§„åˆ™çš„æ„æ€å°±æ˜¯æ‰€æœ‰è¿ç»´å¼€å‘çš„å‘Šè­¦ä¿¡æ¯å‘é€ç»™è°")]),t._v(" "),e("div",{staticClass:"language-promql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-promql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token context-labels"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token label-key attr-name"}},[t._v("_product_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token label-value attr-value"}},[t._v('"è¿ç»´å¼€å‘"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v("\n")])])]),e("p",[e("strong",[t._v("å­è·¯ç”±")]),t._v("ï¼šè¿™æ¡è·¯ç”±è§„åˆ™çš„æ„æ€å°±æ˜¯è¿ç»´å¼€å‘ä¸‹çš„å…³äºCPUè´Ÿè½½é«˜çš„å‘Šè­¦ä¿¡æ¯å‘é€ç»™è°")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{_product_name="è¿ç»´å¼€å‘", alertname="CPULoadHigh"}\n')])])]),e("h4",{attrs:{id:"å‘Šè­¦é€šçŸ¥ç»„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦é€šçŸ¥ç»„"}},[t._v("#")]),t._v(" å‘Šè­¦é€šçŸ¥ç»„")]),t._v(" "),e("blockquote",[e("p",[t._v("å‘Šè­¦é€šçŸ¥ç»„ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æ¥æ”¶å‘Šè­¦ä¿¡æ¯çš„äººå‘˜åˆ†ç»„")])]),t._v(" "),e("h4",{attrs:{id:"ä»»åŠ¡ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä»»åŠ¡ç®¡ç†"}},[t._v("#")]),t._v(" ä»»åŠ¡ç®¡ç†")]),t._v(" "),e("blockquote",[e("p",[t._v("Prometheusé…ç½®æ–‡ä»¶ä¸­çš„scaped job, å°±æ˜¯æŠ“å–ä»»åŠ¡")])]),t._v(" "),e("h4",{attrs:{id:"åˆ†ç»„ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ç»„ç®¡ç†"}},[t._v("#")]),t._v(" åˆ†ç»„ç®¡ç†")]),t._v(" "),e("blockquote",[e("p",[t._v("åœˆå®šä¸€éƒ¨åˆ†æœºå™¨, å°†æœºå™¨åˆ†ç»„, åŒæ—¶åˆ†ç»„è‡ªå¸¦æœ‰åˆ†ç»„æ ‡ç­¾, åŒæ—¶åˆ†ç»„ä¸­å¯é…ç½®æŠ“å–ä»»åŠ¡")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹è§£é‡Š"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"ç›‘æ§ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§ç®¡ç†"}},[t._v("#")]),t._v(" ç›‘æ§ç®¡ç†")]),t._v(" "),e("p",[e("img",{attrs:{src:r(361),alt:"ç›‘æ§ç®¡ç†è¯´æ˜"}})]),t._v(" "),e("h4",{attrs:{id:"é‡‡é›†ç»„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#é‡‡é›†ç»„"}},[t._v("#")]),t._v(" é‡‡é›†ç»„")]),t._v(" "),e("blockquote",[e("p",[t._v("ç›‘æ§çš„ä»£ç†èŠ‚ç‚¹ ä¼šå°è£…Prometheus æœåŠ¡ç«¯çš„ä¸€äº›é…ç½®ä¼šä¸‹å‘åˆ°è¿™äº›ä»£ç†èŠ‚ç‚¹ä¸Š")])]),t._v(" "),e("h4",{attrs:{id:"å®ä¾‹ç±»å‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®ä¾‹ç±»å‹"}},[t._v("#")]),t._v(" å®ä¾‹ç±»å‹")]),t._v(" "),e("blockquote",[e("p",[t._v("å°±æ˜¯ç›‘æ§ç›®æ ‡çš„ç±»å‹ å¯ä»¥æ˜¯æœºå™¨ å¯ä»¥æ˜¯æ•°æ®åº“ å¯ä»¥æ˜¯åŸŸå å¯ä»¥æ˜¯æ¢æµ‹ç±»å‹ ç­‰ç­‰")]),t._v(" "),e("p",[t._v("å°±æ˜¯ä¸€äº›å®˜æ–¹çš„exporter æ¯”å¦‚ä½ éœ€è¦Pingæµ‹æ£€æµ‹ é‚£ä¹ˆå°±éœ€è¦ä¸€ä¸ªping exporteréƒ¨ç½²åœ¨æŸå°æœºå™¨ä¸Š é‚£ä¹ˆè¿™ä¸ªæœºå™¨ä¸Šçš„exporterå¯åŠ¨çš„æœåŠ¡å°±æ˜¯ä¸€ä¸ªæ¢æµ‹èŠ‚ç‚¹")])]),t._v(" "),e("h4",{attrs:{id:"æ¢æµ‹èŠ‚ç‚¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¢æµ‹èŠ‚ç‚¹"}},[t._v("#")]),t._v(" æ¢æµ‹èŠ‚ç‚¹")]),t._v(" "),e("blockquote",[e("p",[t._v("æ¯”å¦‚Pingæ¢æµ‹ æˆ–è€…åŸŸåæ¢æµ‹ æˆ–è€…äº¤æ¢æœºæ¢æµ‹ ç­‰ç­‰")])]),t._v(" "),e("h4",{attrs:{id:"æ ‡ç­¾ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡ç­¾ç®¡ç†"}},[t._v("#")]),t._v(" æ ‡ç­¾ç®¡ç†")]),t._v(" "),e("blockquote",[e("p",[t._v("Prometheuså¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ ‡ç­¾ ä¸åŒçš„PromQLåŒ…å«æ ‡ç­¾")])]),t._v(" "),e("h4",{attrs:{id:"å‘Šè­¦è§„åˆ™ç±»å‹ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘Šè­¦è§„åˆ™ç±»å‹ç®¡ç†"}},[t._v("#")]),t._v(" å‘Šè­¦è§„åˆ™ç±»å‹ç®¡ç†")]),t._v(" "),e("blockquote",[e("p",[t._v("æˆ‘ä»¬å®šä¹‰äº†ä¸€äº›å‘Šè­¦è§„åˆ™ç±»å‹ æ¯”å¦‚ä¸»æœºç±»å‹ æ¯”å¦‚MySQLç±»å‹ ç­‰ç­‰ å°±æ˜¯ä¸ºäº†åœ¨å‘Šè­¦è§„åˆ™ç®¡ç†ä¸­èƒ½æ˜æ˜¾çœ‹å‡ºè§„åˆ™çš„ç±»å‹è€Œå·²")])]),t._v(" "),e("h2",{attrs:{id:"åç«¯è¯´æ˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åç«¯è¯´æ˜"}},[t._v("#")]),t._v(" åç«¯è¯´æ˜")]),t._v(" "),e("h2",{attrs:{id:"å®¢æˆ·ç«¯è¯´æ˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯è¯´æ˜"}},[t._v("#")]),t._v(" å®¢æˆ·ç«¯è¯´æ˜")]),t._v(" "),e("h3",{attrs:{id:"ä¸»è¦åŠŸèƒ½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è¦åŠŸèƒ½"}},[t._v("#")]),t._v(" ä¸»è¦åŠŸèƒ½")]),t._v(" "),e("ul",[e("li",[t._v("åŸºç¡€Node Exporterå°è£…")]),t._v(" "),e("li",[t._v("ç«¯å£ç›‘æ§")]),t._v(" "),e("li",[t._v("è¿›ç¨‹ç›‘æ§")]),t._v(" "),e("li",[t._v("è„šæœ¬ç›‘æ§")]),t._v(" "),e("li",[t._v("æœåŠ¡å‘ç°")])]),t._v(" "),e("h2",{attrs:{id:"ä¸€äº›exporterå®˜æ–¹åœ°å€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€äº›exporterå®˜æ–¹åœ°å€"}},[t._v("#")]),t._v(" ä¸€äº›Exporterå®˜æ–¹åœ°å€")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/prometheus/node_exporter",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node exporter"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/prometheus/blackbox_exporter",target:"_blank",rel:"noopener noreferrer"}},[t._v("Blackbox exporter"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/prometheus/mysqld_exporter",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL Server Exporter"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/oliver006/redis_exporter",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis Metrics Exporter"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://prometheus.io/docs/instrumenting/exporters/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exporter åˆ—è¡¨"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"ä¸€äº›å‘Šè­¦è§„åˆ™æ ‡å‡†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€äº›å‘Šè­¦è§„åˆ™æ ‡å‡†"}},[t._v("#")]),t._v(" ä¸€äº›å‘Šè­¦è§„åˆ™æ ‡å‡†")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://awesome-prometheus-alerts.grep.to/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prometheus Alert Rule Example"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=s.exports}}]);